-- H13: Tabeli loomine + näidisandmete lisamine (SQLite)
--
-- Selles failis:
-- 1) Avatakse/luuakse andmebaasifail
-- 2) Luuakse tabel (algne nimi: "kasutajad")
-- 3) Tehakse skeemi muudatused (nimed/veerud)
-- 4) Lisatakse kaks näidiskasutajat (INSERT)

-- SQLite CLI käsk: avab andmebaasi (kui puudub, luuakse fail).
.open H13/kplaas.db

-- Loo algne kasutajate tabel.
CREATE TABLE kasutajad(
id INTEGER PRIMARY KEY AUTOINCREMENT, -- automaatselt kasvav ID
first_name TEXT NOT NULL,            -- eesnimi
last_name TEXT NOT NULL,             -- perekonnanimi
email TEXT NOT NULL,                 -- e-post
telefon REAL NOT NULL                -- telefon (numbriline)
);

-- Nimeta tabel ja veerg ümber, et kasutada ingliskeelseid nimesid.
ALTER TABLE kasutajad RENAME TO users;
ALTER TABLE users RENAME COLUMN telefon TO phone;

-- Lisa veerg profiilipildi failinime/URL-i jaoks.
ALTER TABLE users ADD COLUMN image TEXT;

-- Lisa näidisandmed tabelisse "users".
INSERT INTO users (first_name, last_name, email, phone, image)
VALUES ('Keimo','Plaas','keimo.plaas22@gmail.com','56192547','keimo.jpg');

INSERT INTO users (first_name, last_name, email, phone, image)
VALUES ('Karin','Eegrid','karineegrid@gmail.com','688673','neegeros.jpg');